<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tauri App</title>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <div class="container">
      <h1>Token Distribution</h1>

      <p>
      To receive SNT please submit the public key for your MAID address.
      </p>

      <div>
          <h2>Step 1: MAID Secret Key (optional)</h2>
          <p>
          This step only needs to be done once.
          If you've done this step before, skip to the Token Distribution step.
          </p>
          <p>
          This step is safest to perform offline.
          <span class="online">This computer may be online (not sure yet, still checking).</span>
          </p>
          <label>
              Secret Key:
          </label>
          <input type="text" class="secret-key" placeholder="Secret key eg L2jcoE6bsDrBWUxk8yMgC6pxDx2zRwX9YSdZ5WryWqpsw1GELcZT">
          <p class="hint">
          The secret key is used to calculate the public key and address.
          The secret key is never stored or sent over the network.
          </p>
          <p>
          This is a
          <span class="secret-key-type">compressed</span>
          secret key.
          </p>
      </div>


      <div>
          <h2>Step 2: MAID Public Key + Address</h2>
          <p>
          This step only needs to be done once.
          If you've done this step before, skip to the Token Distribution step.
          </p>
          <p>
          This step may be done online or offline.
          <span class="online">This computer may be online (not sure yet, still checking).</span>
          </p>
          <p>
          To maximize safety, it's recommended to
          <button class="clear-secrets">clear</button>
          all secrets in this tool <i>before</i> connecting to the internet.
          </p>
          <label>
              Public Key:
          </label>
          <textarea class="public-key"></textarea>
          <p>Key Type</p>
          <label>
              <input type="radio" name="public-key-type" class="compressed" checked>
              Compressed
          </label>
          <label>
              <input type="radio" name="public-key-type" class="uncompressed">
              Uncompressed
          </label>
          <label>
              <input type="radio" name="public-key-type" class="p2wpkh">
              P2WPKH
          </label>
          <p>
          The address for this public key is
          </p>
          <p class="address">1???</p>
      </div>

      <div>
          <h2>Step 3: Submit MAID public key</h2>
          <p>
          This step only needs to be done once.
          If you've done this step before, skip to the Token Distribution step.
          </p>
          <p>
          This step must be done online.
          <span class="online">This computer may be online (not sure yet, still checking).</span>
          </p>
          <p>
          To maximize safety, it's recommended to
          <button class="clear-secrets">clear</button>
          all secrets in this tool <i>before</i> connecting to the internet.
          </p>
          <p>
          Submit this public key and address to MaidSafe so SNT can be issued
          in the future.
          </p>
          <button class="submit">Submit</button>
          <span class="feedback"></span>
      </div>

      <div>
          <h2>Step 4: Load Distribution List</h2>
          <p>
          The distributions have been uploaded as a list to the Safe Network.
          </p>
          <p>The list location will be published on safenetforum.org</p>
          <p>
          Download the list using
          <code>safe files download list.csv &lt;address&gt;</code>
          </p>
          <p>Then load the list of distributions into this tool.</p>
          <label>Distribution List:</label>
          <input type="file" class="list-location">
          <p class="fetch-result"></p>
      </div>

      <div>
          <h2>Step 5: Decrypt Your Distribution</h2>
          <p>
          This step is safest to perform offline.
          <span class="online">This computer may be online (not sure yet, still checking).</span>
          </p>
          <p>
          <p>
          Your distribution must be decrypted using the bitcoin secret key for
          your MAID address.
          </p>
          <label>MAID secret key:</label>
          <input type="text" class="maid-secret" placeholder="eg L1QyYZj316KwP8awmzs8uNhZHMiVx18BCx1k2EGtxL7rD4Ubg7cc">
          <p>Your decrypted distribution will be shown here.</p>
      </div>

      <div>
          <h2>Step 6: Claim Distribution</h2>
          <p>
          This step must be done online.
          <span class="online">This computer may be online (not sure yet, still checking).</span>
          </p>
          <p>
          To maximize safety, it's recommended to
          <button class="clear-secrets">clear</button>
          all secrets in this tool <i>before</i> connecting to the internet.
          </p>
          <p>Send the distribution to a wallet you control.</p>
          <label>Your decrypted distribution from Step 5:</label>
          <textarea class="distribution-to-send"></textarea>
          <label>
          Your Safe Network wallet address (from
          <code>safe wallet address</code>):
          </label>
          <input type="text" class="bls-recipient">
          <p class="send-preview">Send ? tokens to ?</p>
          <button class="claim">Send</button>
          <p class="send-result"></p>
      </div>

      <script src="bitcoinjs-3.3.0.js"></script>
      <script src="bitcoinjs-wif-3.0.1.js"></script>

    </div>
  </body>
</html>
